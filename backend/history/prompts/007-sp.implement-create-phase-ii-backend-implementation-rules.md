---
id: 007-sp.implement-create-phase-ii-backend-implementation-rules
title: Create Phase II Backend Implementation Rules
stage: implement
date: 2026-01-14
author: Claude
---

# Prompt History Record: Create Phase II Backend Implementation Rules

## Intent
Create the Phase II Backend Implementation document that describes HOW backend code will be implemented, focusing on rules, order, and discipline of implementation rather than actual code.

## Original Prompt
create "Phase II Backend Implementation Rules"

Description:
I want you to write the Phase II Backend Implementation document.

Context:
- Project: Hackathon II Todo App
- Backend stack: FastAPI, SQLModel, Neon PostgreSQL, Better Auth (JWT)
- Frontend is already complete
- Backend skeleton and placeholders already exist
- This file must describe HOW backend code will be implemented, not the code itself

Requirements:
1. Write content into: fullstackwebapp/backend/sp.implement
2. Do NOT write any Python code
3. Do NOT define schemas, endpoints, or database models
4. Use simple, beginner-friendly language
5. Focus on rules, order, and discipline of implementation

The document MUST include these sections:

1. Purpose of Implementation Phase
   - Explain that this phase turns specs into real backend code

2. Implementation Order (Very Important)
   - Clearly list the order in which files must be implemented:
     db.py → models.py → auth/JWT → routes → main.py

3. Database Implementation Rules
   - Database connection comes before models
   - DATABASE_URL must come from environment variables
   - No hardcoded credentials

4. Model Implementation Rules
   - Models must follow sp.specify and Todo Domain Skill
   - Task must always belong to authenticated user

5. Authentication & JWT Rules
   - Every request must be authenticated
   - User identity must come only from JWT
   - URL user_id must match token user_id

6. API Route Rules
   - Routes must never trust frontend input blindly
   - Ownership checks are mandatory
   - Errors must be explicit (401, 403, 404)

7. Error Handling Discipline
   - No silent failures
   - Clear error messages for developers

8. Testing & Verification Rules
   - Each file must be testable independently
   - Manual testing is acceptable for hackathon

9. Out of Scope
   - No frontend logic
   - No UI
   - No deployment

10. Prompt History Recording (PHR)
    - Automatically create a Prompt History Record
    - Save under: fullstackwebapp/backend/history/prompts/
    - Include command, intent, full prompt, and execution note

Instructions:
- Only write the sp.implement document
- Do not modify any other files
- Do not generate backend code
- Confirm once completed

## Response Summary
Successfully created the Phase II Backend Implementation document with all required sections. The document outlines implementation rules, order, and discipline for the backend development phase, focusing on database implementation, model creation, authentication, API routes, and error handling practices.

## Execution Note
The implementation document was created in fullstackwebapp/backend/sp.implement with all required sections as specified in the prompt.