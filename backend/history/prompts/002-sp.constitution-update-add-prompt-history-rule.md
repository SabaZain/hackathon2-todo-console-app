# 002-sp.constitution-update-add-prompt-history-rule.md

## Command
/sp.constitution update "Add Prompt History Recording Rule"

## Description
Update to the backend constitution to enforce prompt history recording for all spec-driven commands.

## Original Prompt Text
```
update "Add Prompt History Recording Rule"

Description:
Update the backend constitution to enforce prompt history recording for all spec-driven commands.

Requirements:
1. Update the existing file:
   - fullstackwebapp/backend/sp.constitution

2. Add a new section titled:

## Prompt History Recording Rule

3. The section must clearly state:
   - Every `/sp.*` command (create, update, implement, plan, tasks, specify)
     must have its full prompt text recorded
   - The prompt must be saved under:
     backend/history/prompts/
   - Each prompt should be stored as a separate markdown file
   - Filenames should include:
     - order number
     - command name
     - short description
   - Example filename:
     001-sp.constitution-create-backend-constitution.md

4. Clarify:
   - History is for traceability and learning only
   - History files are NOT a source of truth
   - Specs and constitution always override history

5. Writing rules:
   - Clear
   - Beginner-friendly
   - Declarative
   - No code

6. Constraints:
   - Do not remove or rewrite existing sections
   - Only append this new rule
   - Do not change scope or responsibilities

Instructions for Claude:
- Update constitution only
- Confirm when done
```

## Note
This prompt was executed before prompt history recording was enforced.